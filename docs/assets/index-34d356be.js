import{a as e,j as d,F as k}from"./jsx-runtime-fd534075.js";import{r as c}from"./index-0cbcd92a.js";import{B as M}from"./index-6eca483b.js";import{I as h}from"./index-ac710f84.js";const T="components-ui__index-module__uploadFile___Byj-S",q={uploadFile:T};function D(t){return{"application/pdf":"pdf","text/csv":"csv","image/jpg":"jgp","image/jpeg":"jpeg","image/png":"png"}[t]||null}function V(t){let l;return t<1024?l=`${t} B`:t<1024*1024?l=`${Math.round(t/1024)} KB`:l=`${Math.round(t/1024/1024)} MB`,l}const w=c.forwardRef((t,l)=>{const[f,r]=c.useState(!0);return f?e("div",{children:e("input",{"data-testid":"upload-file-file",type:"file",ref:l,style:{display:"none"},onChange:u=>{t.onChange(u),r(!1),setTimeout(()=>{r(!0)},0)},accept:t.accept.join(",")})}):e("span",{})}),I=({title:t,text:l,textButton:f,allowedTypes:r,onChange:o,variant:u,textRetry:g})=>{const[v,s]=c.useState(!1),[n,p]=c.useState(),m=c.useRef(null),y=a=>{a.preventDefault()},x=a=>{a.preventDefault();const i=a.dataTransfer.files[0];i&&r.includes(i.type)?(o(i),s(!0),p(i)):(p(void 0),s(!1))},F=()=>{m.current&&m.current.click()},_=a=>{const i=a.target.files[0];(n==null?void 0:n.lastModified)===i.lastModified&&(n==null?void 0:n.name)===i.name?(o(n),s(!0)):i&&r.includes(i.type)?(o(i),p(i),s(!0)):(p(void 0),s(!1))},C=a=>{a.stopPropagation()},j=()=>{s(!1),o(void 0)},S=()=>u==="success"&&n?`${V(n.size)} - ${D(n.type)}`:e("button",{onClick:()=>{o(n)},children:g});return d(k,{children:[e(w,{ref:m,accept:r,onChange:_}),d("div",{className:q.uploadFile,"data-variant":u,onDragOver:y,onDrop:x,onClick:F,children:[d("div",{children:[e(h,{name:"UploadAlt",size:32}),e("h4",{children:t}),e("p",{children:l})]}),e("div",{children:e(M,{onClick:()=>{},variant:"secondary",size:"s",children:f})}),v&&n&&d("div",{onClick:C,children:[d("div",{children:[e("strong",{"data-testid":"upload-file-filename",children:n.name}),e("span",{children:S()})]}),d("div",{children:[e(h,{name:u==="success"?"SuccessCircle":"AlertCircle"}),e("button",{onClick:j,"data-testid":"upload-file-close",children:e(h,{name:"Close",size:14})})]})]})]})]})};try{uploadfile.displayName="uploadfile",uploadfile.__docgenInfo={description:"",displayName:"uploadfile",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},textButton:{defaultValue:null,description:"",name:"textButton",required:!0,type:{name:"string"}},textRetry:{defaultValue:null,description:"",name:"textRetry",required:!0,type:{name:"string"}},allowedTypes:{defaultValue:null,description:"",name:"allowedTypes",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(file?: File | undefined) => void"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"success"'},{value:'"error"'}]}}}}}catch{}export{I as U};
