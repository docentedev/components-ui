import{a as e,j as c,F as b}from"./jsx-runtime-fd534075.js";import{K as F,O as S,Q as D,t as s,T as p,c as u,h as x,b as H,M as N,d as K}from"./index-0df79f3f.js";import{r as _}from"./index-0cbcd92a.js";import{R as B}from"./index-c2412459.js";import{C as d}from"./index-65ca6685.js";import{P as g}from"./index-02210d9f.js";import{I as G}from"./index-86b246da.js";import{S as h}from"./index-45b89812.js";import{I as U}from"./index-5eea7179.js";const I=t=>{const o=_.useContext(F);if(!o)throw new Error("useTourGuide must be used within a TourGuideProvider");return{name:t,dispacth:o.getTour(t).dispatch||{open:()=>{},closeAll:()=>{},total:0,onClick:()=>{}}}},W=t=>(o,n)=>{let i;const r=`__components_ui__storageManger_${t}`,l=localStorage,j=!!l.getItem(r),f=()=>JSON.parse(l.getItem(r)||"{}")[o]||{},m=a=>{const w=JSON.parse(l.getItem(r)||"{}");w[o]={model:a,datetime:new Date},l.setItem(r,JSON.stringify(w))},C=()=>{const a=JSON.parse(l.getItem(r)||"{}");delete a[o],l.setItem(r,JSON.stringify(a))},v=(a,w,V)=>{m(a),i&&clearTimeout(i),i=setTimeout(()=>{V()},w)},L=()=>{const a=f();return!a.model||Object.keys(a.model).length===0};return j||l.setItem(r,JSON.stringify({})),n&&L()&&m(n),{get:f,set:m,clear:C,setWithTimeout:v}},q=""+new URL("Highlighted_Onboarding-c7ecc969.png",import.meta.url).href,J=W("stories"),Q={title:"TourGuide",component:S,render:t=>e(Y,{...t}),argTypes:{children:{control:{type:null}},position:{options:["top","left","right","bottom","bottom-left","bottom-right"],control:{type:"select"}},variant:{options:["tooltip","modal"],control:{type:"select"}}}},$=({position:t,variant:o})=>{const n=I("flujo0");return c(B,{rowGap:1,children:[e(d,{col:12,children:e(u,{onClick:n.dispacth.onClick,"data-step":"0",children:"Iniciar flujo"})}),e(d,{col:9,children:e(S,{variant:o,position:t,tour:n,step:0,width:"20rem",render:({chip:i,onNext:r})=>c(b,{children:[i,e(g,{marginTop:.5,direction:"column",children:e(p,{children:"Contenido del tooltip del paso 1"})}),e(h,{}),e(x,{onConfirm:r,textConfirm:"Siguiente",variant:"horizontal"})]}),children:e(u,{onClick:()=>{},size:"l",children:"Elemento para foco del paso 1"})})})]})},X=({position:t,variant:o})=>{const n=I("flujo0");return e(b,{children:e(S,{variant:o,position:t,tour:n,step:1,render:({chip:i,onNext:r,onPrev:l})=>c(b,{children:[i,e(g,{marginTop:.5,children:e(p,{children:"Contenido para el paso 2"})}),e(h,{}),e(x,{onCancel:l,onConfirm:r,textCancel:"Anterior",textConfirm:"Siguiente",variant:"horizontal"})]}),children:c(H,{children:[e(u,{onClick:()=>{},children:"Button x"}),e(u,{onClick:()=>{},children:"Button y"}),e(u,{onClick:()=>{},children:"Button z"})]})})})},O=({index:t,variant:o="tooltip",width:n,position:i="top",render:r,children:l,title:j})=>{const f=I("flujo0");return e(S,{position:i,tour:f,step:t,withClose:!0,width:n,variant:o,render:({chip:m,onNext:C,onPrev:v})=>c(b,{children:[j&&e(p,{weight:700,color:s.color.Primary.cssVar,size:20,lineHeight:30,children:j}),o==="tooltip"&&m,e(g,{marginTop:.5,children:r({chip:m,onNext:C,onPrev:v})}),e(h,{}),o==="modal"?c(g,{justifyContent:"space-between",alignItems:"center",children:[m,e(x,{onCancel:v,onConfirm:C,textCancel:"Anterior",textConfirm:"Siguiente",variant:"horizontal"})]}):e(x,{onCancel:v,onConfirm:C,textCancel:"Anterior",textConfirm:"Siguiente",variant:"horizontal"})]}),children:l||e(u,{onClick:()=>f.dispacth.open(t),children:"Content"})})},Y=({position:t,variant:o})=>e("div",{children:e(D,{tours:["flujo0"],children:c(B,{gap:1,rowGap:1,children:[e(d,{col:12,children:e($,{position:t,variant:o})}),e(d,{col:12,children:e(X,{position:t,variant:o})}),e(d,{col:12,children:e(O,{index:2,variant:o,position:t,title:"Proceso de asignación",render:()=>e("div",{children:e("div",{style:{marginTop:s.spacing.m.value,padding:s.spacing.xl.value,borderRadius:s.radius.l.value,backgroundColor:s.color.PrimaryLowContrast.value},children:c(g,{gap:1,children:[e(G,{name:"Category"}),e(G,{name:"Category"}),e(G,{name:"Category"})]})})})})}),e(d,{col:3,children:e(O,{index:3,variant:o,position:t,render:()=>e(p,{children:"Content D"}),children:e(G,{name:"Category"})})}),e(d,{col:3,children:e(O,{index:4,variant:o,position:t,render:()=>e(p,{children:"Content E"})})})]})})}),T={args:{}},k=J("flujo0",!1),Z=()=>{const[t,o]=_.useState(k.get().model),n=I("flujo1"),i=J("flujo1");return _.useEffect(()=>{const{model:r}=i.get();r||i.setWithTimeout(!0,500,()=>{n.dispacth.open(0)})},[i,n.dispacth]),c("div",{style:{backgroundColor:s.color.PrimaryLowContrast.value,padding:s.spacing.l.value,borderRadius:s.radius.l.value},children:[e(B,{children:e(d,{col:12,children:e(g,{alignItems:"flex-end",justifyContent:"flex-end",children:e(S,{tour:n,render:({onNext:r})=>c(b,{children:[e(p,{color:s.color.PrimaryLow.cssVar,size:"l",lineHeight:"s",weight:"bold",children:"Guías de uso"}),e(h,{height:.25,variant:"space"}),e(p,{children:"Revisa la información del módulo y nuevas funcionalidades en cualquier momento."}),e(h,{height:1,variant:"space"}),e(U,{src:q}),e(h,{}),e(x,{onConfirm:r,textConfirm:"Entendido",variant:"horizontal"})]}),step:0,position:"bottom-right",children:e(N,{options:[{label:"Sobre Asignación",value:"1",icon:"AlertCircleOutline"},{label:"Recorrido guiado",value:"2",icon:"TourGuide",chip:e(K,{text:"NUEVO",variant:"secondary-outline"})}],onChange:r=>{r==="2"&&(n.dispacth.open(0),k.set(!0),o(!0))},value:"",buttonVariant:"light",buttonIcon:"TourGuide",buttonSize:"m",buttonBullet:t?void 0:6})})})})}),e(h,{height:20}),e(u,{onClick:()=>i.clear(),children:"Limpiar tour"}),e(u,{onClick:()=>k.clear(),children:"Limpiar tour flujo 0"})]})},y={render:()=>e(D,{tours:["flujo1"],children:e(Z,{})})};var z,P,E;T.parameters={...T.parameters,docs:{...(z=T.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: {}
}`,...(E=(P=T.parameters)==null?void 0:P.docs)==null?void 0:E.source}}};var M,A,R;y.parameters={...y.parameters,docs:{...(M=y.parameters)==null?void 0:M.docs,source:{originalSource:`{
  render: () => <TourGuideProvider tours={['flujo1']}>
      <ButtonTourComponent />
    </TourGuideProvider>
}`,...(R=(A=y.parameters)==null?void 0:A.docs)==null?void 0:R.source}}};const ee=["Default","ButtonTour"],de=Object.freeze(Object.defineProperty({__proto__:null,ButtonTour:y,Default:T,__namedExportsOrder:ee,default:Q},Symbol.toStringTag,{value:"Module"}));export{y as B,T as D,de as T};
